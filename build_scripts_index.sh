#!/bin/bash
INDEX_FILE="../scripts_index.md"
prefixes=("attack" "discovery" "format" "generate" "identify")
cd scripts
echo "> **Note**: Updated on $(date +'%Y-%m-%d at %T')" > $INDEX_FILE
echo "" >> $INDEX_FILE
for p in ${prefixes[@]};
do
    echo "# Action type: $p" >> $INDEX_FILE
    echo "" >> $INDEX_FILE
    for s in $(find . -type f -name "$p-*" | sort)
    do
        script_name=$(basename $s)
        echo "* [$script_name](scripts/$s)." >> $INDEX_FILE
    done
    echo "" >> $INDEX_FILE
done
cd ..